package br.com.calculadora.pos.fixa;

public class CalculadoraVetor implements Calculadora{
	private PilhaVetor<Float> operandos = new PilhaVetor<>(100);

	@Override
	public float dividir() {
		float operando1 = operandos.pop();
		float operando2 = operandos.pop();
		
		float resultado = operando1/operando2;
		
		return resultado;
	}

	@Override
	public float somar() {
		float operando1 = operandos.pop();
		float operando2 = operandos.pop();
		
		float resultado = operando1/operando2;
		
		return operando1+operando2;
	}

	@Override
	public float subtrair() {
		float operando1 = operandos.pop();
		float operando2 = operandos.pop();
				
		return operando1-operando2;
	}

	@Override
	public float multiplicar() {
		float operando1 = operandos.pop();
		float operando2 = operandos.pop();
		
		return operando1*operando2;
		
	}
	
	@Override
	public float calcular(String calculo) {
		
		String[] temp = calculo.split(" ");
		
		for (String valor : temp) {
			
			char caracter = valor.charAt(0);
			
			switch (caracter) {
			case'+':
				somar();
				break;
			case '-':
				subtrair();
				break;
			case '/':
				dividir();
				break;
			case '*':
				multiplicar();
				break;
			default: adicionarNumeroNaPilha(valor);
			}		return 0;
		}
		
		return operandos.pop();	
	}

	private void adicionarNumeroNaPilha(String valor) {
		
		try {
			operandos.push(Float.parseFloat(valor));
		} catch (NumberFormatException e) {
			throw new NumberFormatException("Caracter invalido encontrado");
		}
	}
	
	
	
}
